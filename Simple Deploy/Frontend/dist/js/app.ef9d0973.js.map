{"version":3,"file":"js/app.ef9d0973.js","mappings":"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","sources":["webpack://onestepgps/./src/javascript/LoginScripts.js","webpack://onestepgps/./src/components/LoginComponent.vue","webpack://onestepgps/./src/components/LoginComponent.vue?29d0","webpack://onestepgps/./src/javascript/api.js","webpack://onestepgps/./src/javascript/animation-utilities.js","webpack://onestepgps/./src/javascript/map-utilities.js","webpack://onestepgps/./src/javascript/device-utilities.js","webpack://onestepgps/./src/javascript/MapScripts.js","webpack://onestepgps/./src/components/MapComponent.vue","webpack://onestepgps/./src/components/MapComponent.vue?304e","webpack://onestepgps/./src/javascript/login-utilities.js","webpack://onestepgps/./src/App.vue","webpack://onestepgps/./src/App.vue?7ccd","webpack://onestepgps/./src/main.js","webpack://onestepgps/webpack/bootstrap","webpack://onestepgps/webpack/runtime/chunk loaded","webpack://onestepgps/webpack/runtime/compat get default export","webpack://onestepgps/webpack/runtime/define property getters","webpack://onestepgps/webpack/runtime/global","webpack://onestepgps/webpack/runtime/hasOwnProperty shorthand","webpack://onestepgps/webpack/runtime/make namespace object","webpack://onestepgps/webpack/runtime/jsonp chunk loading","webpack://onestepgps/webpack/startup"],"sourcesContent":["import { ref } from 'vue';\r\nimport axios from 'axios';\r\nimport srp from 'secure-remote-password/client'\r\n\r\nexport const scale = ref(0.2);\r\nexport function useLogin() {\r\n  const username = ref('');\r\n  const password = ref('');\r\n  const errorMessage = ref('');\r\n  const showError = ref(false);\r\n\r\n  const handleLoginWithErrorHandling = async (emit) => {\r\n    try {\r\n      await handleLogin(emit);\r\n    } catch (error) {\r\n      errorMessage.value = \"Username or password is incorrect\";\r\n      showError.value = true;\r\n  \r\n      setTimeout(() => {\r\n        showError.value = false;\r\n        errorMessage.value = '';\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const handleLogin = async (emit) => {\r\n    let serverResponse = await axios.post('http://localhost:8080/api/authenticate', {\r\n      identifier: 1,\r\n      username: username.value,\r\n    });\r\n\r\n    const { identifier, salt, serverPublicEphemeral } = serverResponse.data;\r\n    if (identifier !== 2) throw new Error('Unexpected response identifier');\r\n    \r\n    const clientEphemeral = srp.generateEphemeral();\r\n\r\n    const privateValue = srp.derivePrivateKey(\r\n      salt, \r\n      username.value, \r\n      password.value\r\n    );\r\n\r\n    const clientSession = srp.deriveSession(\r\n      clientEphemeral.secret,\r\n      serverPublicEphemeral,\r\n      salt,\r\n      username.value,\r\n      privateValue\r\n    );\r\n\r\n    serverResponse = await axios.post('http://localhost:8080/api/authenticate', {\r\n      identifier: 3,\r\n      username: username.value,\r\n      clientPublicEphemeral: clientEphemeral.public,\r\n      clientSessionProof: clientSession.proof,\r\n      clientSessionKey: clientSession.key,\r\n    });\r\n\r\n    const { serverSessionProof, sessionToken } = serverResponse.data;\r\n\r\n    srp.verifySession(\r\n      clientEphemeral.public, \r\n      clientSession, \r\n      serverSessionProof\r\n    )\r\n\r\n    if (serverResponse.data.identifier !== 4) {\r\n      throw new Error('Session verification failed');\r\n    }else{\r\n      scale.value = 0;\r\n      emit('login-success', sessionToken);\r\n    }\r\n  };\r\n\r\n  return {\r\n    username,\r\n    password,\r\n    errorMessage,\r\n    showError,\r\n    handleLoginWithErrorHandling,\r\n    handleLogin,\r\n  };\r\n}\r\n\r\nfunction easeInOutQuart(x) {\r\n  return x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2; // https://easings.net/en\r\n}\r\n\r\nexport function initializeLoginPage(){\r\n  let start = null;\r\n  const duration = 500;\r\n\r\n  function animate(timestamp) {\r\n    if (!start) start = timestamp;\r\n    const elapsed = timestamp - start;\r\n    const progress = Math.min(elapsed / duration, 1);\r\n    scale.value = easeInOutQuart(progress) * 1;\r\n\r\n    if (progress < 1) {\r\n      requestAnimationFrame(animate);\r\n    }\r\n  }\r\n\r\n  requestAnimationFrame(animate);\r\n}","<template>\r\n    <div class=\"login-page\">\r\n      <form @submit.prevent=\"handleLoginWithErrorHandling(emit)\"\r\n      :style=\"{ transform: `scale(${scale})` }\">\r\n      <h1 class=\"login-label\">Login</h1>\r\n\r\n        <input v-model=\"username\" id=\"username\" type=\"text\" placeholder=\"Username\" required />\r\n        \r\n        <input v-model=\"password\" id=\"password\" type=\"password\" placeholder=\"Password\" required />\r\n        \r\n        <p v-if=\"errorMessage\" class=\"error-label\" :class=\"{ visible: showError }\">{{ errorMessage }}</p>\r\n\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n\r\n<script setup>\r\nimport { defineEmits, onMounted } from 'vue';\r\nimport { useLogin, initializeLoginPage, scale } from '@/javascript/LoginScripts.js';\r\nconst { username, password, errorMessage, showError, handleLoginWithErrorHandling } = useLogin();\r\n\r\nconst emit = defineEmits(['login-success']);\r\n\r\nonMounted(() => {\r\n  initializeLoginPage();\r\n});\r\n\r\n</script>\r\n\r\n<style scoped src=\"@/style/LoginPage.css\"></style>","import script from \"./LoginComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"@/style/LoginPage.css?vue&type=style&index=0&id=53e4761c&scoped=true&lang=css&external\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-53e4761c\"]])\n\nexport default __exports__","import axios from \"axios\";\r\n\r\nconst GoBackendApiUrl = \"http://localhost:8080/api\";\r\n\r\nexport async function fetchDevices() {\r\n  try {\r\n    const sessionToken = localStorage.getItem(\"sessionToken\");\r\n    if (!sessionToken) throw new Error(\"Session token not found. Please log in.\");\r\n\r\n    const response = await axios.get(`${GoBackendApiUrl}/devices`, {\r\n      headers: {\r\n        Authorization: `${sessionToken}`,\r\n      },\r\n    });\r\n\r\n    return response.data.result_list;\r\n  } catch (error) {\r\n    handleSessionError(error);\r\n    throw error; \r\n  }\r\n}\r\n\r\nexport async function fetchPreferences() {\r\n  try {\r\n    const sessionToken = localStorage.getItem(\"sessionToken\");\r\n    if (!sessionToken) throw new Error(\"Session token not found. Please log in.\");\r\n\r\n    const preferencesResponse = await fetch(`${GoBackendApiUrl}/preferences`, {\r\n      headers: {\r\n        Authorization: `${sessionToken}`,\r\n      },\r\n    });\r\n\r\n    if (!preferencesResponse.ok) {\r\n      const errorData = await preferencesResponse.json();\r\n      if (errorData.message === \"Invalid session token\") {\r\n        handleSessionError(new Error(\"Invalid session token\"));\r\n      }\r\n      throw new Error(errorData.message || \"Failed to fetch preferences.\");\r\n    }\r\n\r\n    return await preferencesResponse.json();\r\n  } catch (error) {\r\n    handleSessionError(error); \r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function updateUserPreferences(preferences) {\r\n  try {\r\n    const sessionToken = localStorage.getItem(\"sessionToken\");\r\n\r\n    if (!sessionToken) throw new Error(\"Session token not found. Please log in.\");\r\n\r\n    const response = await fetch(`${GoBackendApiUrl}/update-user-preferences`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': sessionToken,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(preferences),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      \r\n      throw new Error('Failed to update preferences: ' + error);\r\n    }\r\n\r\n    const result = await response.json();\r\n\r\n    return result;\r\n\r\n  } catch (error) {\r\n    console.error('Error while updating preferences:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction handleSessionError(error) {\r\n  console.error(\"Session token is invalid: \", error);\r\n  localStorage.removeItem(\"sessionToken\"); \r\n  window.location.reload();\r\n}","export function lerp(start, end, t) {\r\n    return start + (end - start) * t;\r\n  }\r\n  \r\n  export function animateStep(startTime, duration, updateFunction, callback) {\r\n    const currentTime = performance.now();\r\n    const elapsedTime = currentTime - startTime;\r\n    const t = Math.min(elapsedTime / duration, 1);\r\n  \r\n    updateFunction(t);\r\n  \r\n    if (t < 1) {\r\n      requestAnimationFrame(() => animateStep(startTime, duration, updateFunction, callback));\r\n    } else if (callback) {\r\n      callback();\r\n    }\r\n  }\r\n  \r\n  export function animateProperty(obj, property, startValue, endValue, duration) {\r\n    const startTime = performance.now();\r\n    \r\n    animateStep(startTime, duration, (t) => {\r\n      obj[property] = lerp(startValue, endValue, t);\r\n    });\r\n  }\r\n  \r\n  export function animateLatLng(map, targetLatLng, duration = 300) {\r\n    const startLatLng = map.getCenter(); \r\n    const startTime = performance.now();\r\n  \r\n    animateStep(startTime, duration, (t) => {\r\n      const interpolatedLat = lerp(startLatLng.lat(), targetLatLng.lat, t);\r\n      const interpolatedLng = lerp(startLatLng.lng(), targetLatLng.lng, t);\r\n      map.setCenter(new google.maps.LatLng(interpolatedLat, interpolatedLng));\r\n    });\r\n  }","/* global google */\r\n\r\nimport { animateLatLng, animateProperty } from './animation-utilities';\r\n\r\nlet markersMap = new Map(); \r\n\r\nexport async function initializeMap(mapElementId) {\r\n  return new google.maps.Map(document.getElementById(mapElementId), {\r\n    zoomControl: true,\r\n    scrollwheel: true,\r\n    zoom: 5,\r\n    center: { lat: 34.0522, lng: -118.2437 }, \r\n  });\r\n}\r\n\r\nexport function centerMap(device, map) {\r\n  if (device?.latest_device_point?.lat && device?.latest_device_point?.lng) {\r\n    const targetLatLng = {\r\n      lat: device.latest_device_point.lat,\r\n      lng: device.latest_device_point.lng,\r\n    };\r\n\r\n    animateLatLng(map, targetLatLng); \r\n    map.setZoom(11); \r\n  }\r\n}\r\n\r\nexport function addMarker(device, map, selectDeviceCallback) {\r\n  if (markersMap.has(device.device_id)) {\r\n    return;\r\n  }\r\n  \r\n  if (!device?.latest_device_point?.lat ||\r\n    !device?.latest_device_point?.lng) {\r\n      return;\r\n    }\r\n\r\n    const mapMarker = new google.maps.Marker({\r\n      position: {\r\n        lat: device.latest_device_point.lat,\r\n        lng: device.latest_device_point.lng,\r\n      },\r\n      map: map,\r\n      icon: {\r\n        url: device.preferences.markerUrl,\r\n        scaledSize: new google.maps.Size(35, 35),\r\n        labelOrigin: new google.maps.Point(20, -5),\r\n      },\r\n      label: {\r\n        text: device.display_name,\r\n        color: \"#ffffff\",       \r\n        fontSize: \"12px\",       \r\n        fontWeight: \"bold\",      \r\n      },\r\n    });\r\n\r\n    mapMarker.setVisible(device?.preferences?.isVisible);\r\n    \r\n    markersMap.set(device.device_id, mapMarker);\r\n\r\n    mapMarker.addListener(\"click\", () => {\r\n      if (selectDeviceCallback) {\r\n        selectDeviceCallback(device);\r\n      }\r\n    });\r\n}\r\n\r\nexport function removeMarker(deviceId) {\r\n  const mapMarker = markersMap.get(deviceId);\r\n  if (mapMarker) {\r\n    mapMarker.setMap(null); \r\n    markersMap.delete(deviceId);\r\n  }\r\n}\r\n\r\nexport function updateMarker(device) {\r\n\r\n  if (!device?.latest_device_point?.lat ||\r\n    !device?.latest_device_point?.lng\r\n    ){\r\n      return;\r\n    }\r\n\r\n    const mapMarker = markersMap.get(device.device_id);\r\n\r\n    mapMarker.setVisible(device?.preferences?.isVisible);\r\n    \r\n    if (mapMarker) {\r\n      const oldPosition = mapMarker.getPosition();\r\n      const newPosition = new google.maps.LatLng(\r\n        device.latest_device_point.lat,\r\n        device.latest_device_point.lng\r\n      );\r\n\r\n      const startTime = performance.now();\r\n      const duration = 500; \r\n\r\n      animateProperty(mapMarker, oldPosition, newPosition, startTime, duration);\r\n      mapMarker.setTitle(device.display_name);\r\n\r\n      const newIcon = {\r\n        url: device.preferences.markerUrl,\r\n        scaledSize: new google.maps.Size(35, 35),\r\n        labelOrigin: new google.maps.Point(20, -5),\r\n      };\r\n  \r\n      mapMarker.setIcon(newIcon);\r\n    }\r\n  \r\n}\r\n\r\nexport function clearAllMarkers() {\r\n  markersMap.forEach((mapMarker) => {\r\n    mapMarker.setMap(null);\r\n  });\r\n  markersMap.clear();\r\n}","export function prepareDeviceData(device) {\r\n    device.latest_device_point = {\r\n      lat: device.latest_device_point?.lat || null,\r\n      lng: device.latest_device_point?.lng || null,\r\n      speed: device.latest_device_point?.speed || null,\r\n      device_state: device.latest_device_point?.device_state || null,\r\n      params: device.latest_device_point?.params || null,\r\n    };\r\n\r\n    device.speed = device.latest_device_point.speed || 0;\r\n    device.drive_status = device.latest_device_point.device_state?.drive_status || \"unknown\";\r\n    device.vin = device.latest_device_point.params?.vin || \"N/A\";\r\n    device.fuel_percent = device.latest_device_point.device_state?.fuel_percent ?? null;\r\n    return device;\r\n  }\r\n  \r\n  export function createFileInput() {\r\n    const fileInput = document.createElement(\"input\");\r\n    fileInput.type = \"file\";\r\n    fileInput.accept = \"image/png\";\r\n    return fileInput;\r\n  }\r\n\r\n  export function isPngImage(file) {\r\n    return file.type === \"image/png\";\r\n  }\r\n  \r\n  export function encodeImageFile(file) {\r\n    const reader = new FileReader();\r\n  \r\n    return new Promise((resolve, reject) => {\r\n      reader.onload = () => {\r\n        const base64Data = reader.result;\r\n  \r\n        resolve(base64Data);\r\n      };\r\n  \r\n      reader.onerror = reject;\r\n  \r\n      reader.readAsDataURL(file);\r\n    });\r\n  }","import { ref } from \"vue\";\r\nimport { fetchDevices, fetchPreferences, updateUserPreferences } from \"@/javascript/api\";\r\nimport { initializeMap, addMarker, updateMarker, removeMarker, centerMap, clearAllMarkers } from \"@/javascript/map-utilities\";\r\nimport { prepareDeviceData, createFileInput, isPngImage, encodeImageFile } from \"@/javascript/device-utilities\";\r\nimport Gauge from \"svg-gauge\";\r\n\r\nexport let map;\r\nexport const devices = ref([]);\r\nexport const selectedDevice = ref(null);\r\nexport const speedGauge = ref(null);\r\n\r\nlet refreshInterval;\r\n\r\nexport function handleUploadDeviceImageClick() {\r\n  const fileInput = createFileInput();\r\n  fileInput.onchange = handleFileSelection;\r\n  fileInput.click();\r\n}\r\n\r\nasync function handleFileSelection(event) {\r\n  const imageFileSelected = event.target.files[0];\r\n\r\n  if (imageFileSelected && isPngImage(imageFileSelected)) {\r\n    const imageUrlB64Encoded = await encodeImageFile(imageFileSelected);\r\n\r\n    const updatedDeviceUserPreferences = createUpdatedPreferences(imageUrlB64Encoded);\r\n    await updateUserPreferences(updatedDeviceUserPreferences);\r\n\r\n    updateMarkerIcon(imageUrlB64Encoded);\r\n  } else {\r\n    alert(\"Please select a PNG image.\");\r\n  }\r\n}\r\n\r\nfunction createUpdatedPreferences(imageUrlB64Encoded) {\r\n  return {\r\n    [selectedDevice.value.device_id]: {\r\n      isVisible: selectedDevice.value.preferences.isVisible,\r\n      markerUrl: imageUrlB64Encoded,\r\n    },\r\n  };\r\n}\r\n\r\nfunction updateMarkerIcon(imageUrlB64Encoded) {\r\n  if (selectedDevice.value && selectedDevice.value.marker) {\r\n    selectedDevice.value.marker.setIcon(imageUrlB64Encoded);\r\n  }\r\n}\r\n\r\nfunction initializeSpeedGaugeWidget() {\r\n  const gaugeContainer = document.getElementById(\"deviceSpeed\");\r\n  if (!gaugeContainer) {\r\n    return null;\r\n  }\r\n\r\n  return Gauge(gaugeContainer, {\r\n    max: 150,\r\n    dialStartAngle: 180,\r\n    dialEndAngle: 0,\r\n    color: (value) => (value < 30 ? \"green\" : value < 80 ? \"yellow\" : \"red\"),\r\n    label: function (value) {\r\n      return Math.round(value) + \"mph\";\r\n    },\r\n    value: 0,\r\n  });\r\n}\r\n\r\nfunction initializeDeviceSpeedGauge() {\r\n  const intervalId = setInterval(() => {\r\n    const deviceSpeedElement = document.getElementById(\"deviceSpeed\");\r\n\r\n    if (deviceSpeedElement) {\r\n      if (!speedGauge.value) {\r\n        speedGauge.value = initializeSpeedGaugeWidget();\r\n      }\r\n\r\n      speedGauge.value.setValueAnimated(selectedDevice?.value.latest_device_point?.speed, 1);\r\n\r\n      clearInterval(intervalId);\r\n    }\r\n  }, 100);\r\n}\r\n\r\nasync function prepareDevices(userDeviceList, preferences) {\r\n  return userDeviceList.map((device) => ({\r\n    ...prepareDeviceData(device),\r\n    preferences: preferences[device.device_id] || {\r\n      isVisible: true,\r\n      markerUrl: \"https://swiftrix.net/uploads/d296f72785e72e6e278d910fbcaf9176.png\",\r\n    },\r\n  }));\r\n}\r\n\r\nasync function updateDeviceMarkers(deviceIDToDeviceMap) {\r\n  devices.value.forEach((existingDevice) => {\r\n    if (!deviceIDToDeviceMap.has(existingDevice.device_id)) {\r\n      removeMarker(existingDevice.device_id);\r\n    }\r\n  });\r\n\r\n  deviceIDToDeviceMap.forEach((newDevice) => {\r\n    const existingDevice = devices.value.find(d => d.device_id === newDevice.device_id);\r\n    \r\n    if (existingDevice) {\r\n      const hasPreferencesChanged = JSON.stringify(existingDevice.preferences) !== JSON.stringify(newDevice.preferences);\r\n      const hasDeviceChanged = JSON.stringify(existingDevice) !== JSON.stringify(newDevice);\r\n\r\n      if (hasPreferencesChanged || hasDeviceChanged) {\r\n        updateMarker(newDevice);\r\n      }\r\n    } else {\r\n      devices.value.push(newDevice);\r\n      addMarker(newDevice, map, selectDevice);\r\n    }\r\n  });\r\n}\r\n\r\nconst loadUserDevicesAndPreferences = async () => {\r\n  try {\r\n    const userDeviceList = await fetchDevices();\r\n    const userPreferences = await fetchPreferences();\r\n\r\n    const preparedDevices = await prepareDevices(userDeviceList, userPreferences);\r\n    const deviceIDToDeviceMap = new Map(preparedDevices.map((device) => [device.device_id, device]));\r\n\r\n    await updateDeviceMarkers(deviceIDToDeviceMap);\r\n\r\n    if (!selectedDevice.value && devices.value.length > 0) {\r\n      selectedDevice.value = devices.value[0];\r\n      initializeDeviceSpeedGauge();\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Failed to load devices or preferences:\", error);\r\n  }\r\n};\r\n\r\nexport const selectDevice = (device) => {\r\n  selectedDevice.value = device;\r\n  initializeDeviceSpeedGauge();\r\n  centerMarkerOnMap(device, map);\r\n};\r\n\r\nexport function centerMarkerOnMap(deviceWithMarker, mapToCenterOn) {\r\n  centerMap(deviceWithMarker, mapToCenterOn);\r\n}\r\n\r\nexport const toggleDeviceVisibility = async (device) => {\r\n  const originalVisibility = device.preferences.isVisible;\r\n  device.preferences.isVisible = !originalVisibility;\r\n\r\n  try {\r\n    if (device.preferences.isVisible) {\r\n      addMarker(device, map, selectDevice);\r\n    } else {\r\n      removeMarker(device.device_id);\r\n    }\r\n\r\n    const updatedPreferences = {\r\n      [device.device_id]: {\r\n        isVisible: device.preferences.isVisible,\r\n        markerUrl: device.preferences.markerUrl,\r\n      },\r\n    };\r\n\r\n    await updateUserPreferences(updatedPreferences);\r\n  } catch (error) {\r\n    console.error(`Failed to toggle visibility or update preferences for device ${device.device_id}:`, error);\r\n    device.preferences.isVisible = originalVisibility;\r\n  }\r\n};\r\n\r\nfunction autoClickGoogleBilingCloseButton(selector = \".dismissButton\") {\r\n  const PageObserver = new MutationObserver(() => {\r\n    const googleBillingCloseButton = document.querySelector(selector);\r\n    if (googleBillingCloseButton) {\r\n      googleBillingCloseButton.click();\r\n      PageObserver.disconnect();\r\n    }\r\n  });\r\n\r\n  PageObserver.observe(document.body, { childList: true, subtree: true });\r\n}\r\n\r\nexport async function initializeWebComponent() {\r\n  map = await initializeMap(\"map\");\r\n\r\n  clearAllMarkers();\r\n  \r\n  autoClickGoogleBilingCloseButton();\r\n\r\n  loadUserDevicesAndPreferences();\r\n\r\n  refreshInterval = setInterval(loadUserDevicesAndPreferences, 1000);\r\n\r\n  speedGauge.value = initializeSpeedGaugeWidget();\r\n}\r\n\r\nexport function deinitializeWebComponent() {\r\n  clearInterval(refreshInterval);\r\n}\r\n","<template>\n  <div id=\"app\">\n    <div class=\"main-page\">\n      <div id=\"map\" class=\"google-map-container\">\n        \n      </div>\n      <div class=\"device-list-container\">\n        <div class=\"device-list-header\">\n          <span class=\"header-device-name\">Device Name</span>\n          <span class=\"header-device-id\">Device ID</span>\n          <span class=\"header-device-state\">State</span>\n          <span class=\"header-device-actions\">Location</span>\n          <span class=\"header-device-visibility\">Visibility</span>\n        </div>\n        <div class=\"device-listbox\">\n          <div\n            v-for=\"device in devices\"\n            :key=\"device.device_id\"\n            class=\"listbox-item\"\n            @click=\"selectDevice(device)\"\n          >\n            <span class=\"device-name\">{{ device.display_name }}</span>\n            <span class=\"device-id\">{{ device.device_id }}</span>\n            <span class=\"device-state\">{{ device.drive_status }}</span>\n            <span class=\"magnifying-glass\" @click=\"centerMarkerOnMap(device, map); $event.stopPropagation()\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n                <path\n                  d=\"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z\"\n                />\n              </svg>\n            </span>\n            <span class=\"eye-icon\" @click=\"toggleDeviceVisibility(device); $event.stopPropagation()\">\n              <svg\n                v-if=\"device.preferences.isVisible\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 640 512\"\n                class=\"hidden\"\n              >\n              <path d=\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\"/>\n              </svg>\n              <svg\n                v-else\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 640 512\"\n                class=\"visible\"\n              >\n                <path d=\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z\"/>\n              </svg>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"selected-device-container\">\n      <div v-if=\"selectedDevice\">\n        <h2 class=\"selected-device-name\">\n          {{ selectedDevice.display_name || \"No device selected\" }}\n        </h2>\n        <p class=\"selected-device-vin\">\n          VIN: {{ selectedDevice.latest_device_point.params.vin || \"Not Available\" }}\n        </p>\n        <span class=\"selected-device-image\" @click=\"handleUploadDeviceImageClick()\">\n          <img v-if=\"selectedDevice && selectedDevice.preferences.markerUrl\" :src=\"selectedDevice.preferences.markerUrl\" alt=\"Selected Device\" />\n          <svg v-else xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n            <path d=\"M448 80c8.8 0 16 7.2 16 16l0 319.8-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3L48 96c0-8.8 7.2-16 16-16l384 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z\"/>\n          </svg>\n          <label>click to change device icon</label>\n        </span>\n        <div id=\"deviceSpeed\" class=\"gauge-container\">\n        </div>\n        <div class=\"gas-icon\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n            <path d=\"M32 64C32 28.7 60.7 0 96 0L256 0c35.3 0 64 28.7 64 64l0 192 8 0c48.6 0 88 39.4 88 88l0 32c0 13.3 10.7 24 24 24s24-10.7 24-24l0-154c-27.6-7.1-48-32.2-48-62l0-64L384 64c-8.8-8.8-8.8-23.2 0-32s23.2-8.8 32 0l77.3 77.3c12 12 18.7 28.3 18.7 45.3l0 13.5 0 24 0 32 0 152c0 39.8-32.2 72-72 72s-72-32.2-72-72l0-32c0-22.1-17.9-40-40-40l-8 0 0 144c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32L32 64zM96 80l0 96c0 8.8 7.2 16 16 16l128 0c8.8 0 16-7.2 16-16l0-96c0-8.8-7.2-16-16-16L112 64c-8.8 0-16 7.2-16 16z\"/>\n          </svg>\n          <span> \n            {{\n              selectedDevice.latest_device_point.device_state.fuel_percent !== undefined\n                ? Math.round(selectedDevice.latest_device_point.device_state.fuel_percent) + \"%\"\n                : \"N/A\" \n            }}\n          </span>\n        </div>\n      </div>\n      <div v-else>\n        <p>No device selected</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, onBeforeUnmount } from 'vue';\nimport { devices,\n  map,\n  selectedDevice,\n  handleUploadDeviceImageClick, \n  selectDevice, \n  toggleDeviceVisibility, \n  centerMarkerOnMap,\n  initializeWebComponent, \n  deinitializeWebComponent } from \"@/javascript/MapScripts.js\";\n\nonMounted(async() => {\n  initializeWebComponent();\n});\n\nonBeforeUnmount(async() =>{\n  deinitializeWebComponent();\n});\n\n</script>\n\n<style scoped src=\"@/style/MapPage.css\"></style>","import script from \"./MapComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MapComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"@/style/MapPage.css?vue&type=style&index=0&id=0ad518c2&scoped=true&lang=css&external\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0ad518c2\"]])\n\nexport default __exports__","import { ref } from 'vue';\r\n\r\nexport const isLoggedIn = ref(false);\r\n\r\nexport const updateLoginState = () => {\r\n  isLoggedIn.value = !!localStorage.getItem('sessionToken');\r\n};\r\n\r\nexport const handleStorageChange = (event) => {\r\n    if (event.key === 'sessionToken') {\r\n      updateLoginState();\r\n    }\r\n  };\r\n\r\n  export const handleLoginSuccess = (token) => {\r\n    localStorage.setItem('sessionToken', token); \r\n    isLoggedIn.value = true;\r\n  };","/*global google*/\n<template>\n  <div id=\"app\">\n    <LoginComponent v-if=\"!isLoggedIn\" @login-success=\"handleLoginSuccess\" />\n    <MapComponent v-else />\n  </div>\n</template>\n\n<script setup>\nimport { onMounted } from 'vue';\nimport LoginComponent from './components/LoginComponent.vue';\nimport MapComponent from './components/MapComponent.vue';\nimport {handleStorageChange, isLoggedIn, handleLoginSuccess, updateLoginState} from './javascript/login-utilities.js';\n\nonMounted(() => {\n  updateLoginState()\n\n  window.addEventListener('storage', handleStorageChange);\n});\n\n</script>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\nimport './style/AppPage.css';\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkonestepgps\"] = self[\"webpackChunkonestepgps\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(1061); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["scale","ref","useLogin","username","password","errorMessage","showError","handleLoginWithErrorHandling","async","handleLogin","emit","error","value","setTimeout","serverResponse","axios","post","identifier","salt","serverPublicEphemeral","data","Error","clientEphemeral","srp","privateValue","clientSession","secret","clientPublicEphemeral","public","clientSessionProof","proof","clientSessionKey","key","serverSessionProof","sessionToken","easeInOutQuart","x","Math","pow","initializeLoginPage","start","duration","animate","timestamp","elapsed","progress","min","requestAnimationFrame","__emit","onMounted","__exports__","GoBackendApiUrl","fetchDevices","localStorage","getItem","response","get","headers","Authorization","result_list","handleSessionError","fetchPreferences","preferencesResponse","fetch","ok","errorData","json","message","updateUserPreferences","preferences","method","body","JSON","stringify","result","console","removeItem","window","location","reload","lerp","end","t","animateStep","startTime","updateFunction","callback","currentTime","performance","now","elapsedTime","animateProperty","obj","property","startValue","endValue","animateLatLng","map","targetLatLng","startLatLng","getCenter","interpolatedLat","lat","interpolatedLng","lng","setCenter","google","maps","LatLng","markersMap","Map","initializeMap","mapElementId","document","getElementById","zoomControl","scrollwheel","zoom","center","centerMap","device","latest_device_point","setZoom","addMarker","selectDeviceCallback","has","device_id","mapMarker","Marker","position","icon","url","markerUrl","scaledSize","Size","labelOrigin","Point","label","text","display_name","color","fontSize","fontWeight","setVisible","isVisible","set","addListener","removeMarker","deviceId","setMap","delete","updateMarker","oldPosition","getPosition","newPosition","setTitle","newIcon","setIcon","clearAllMarkers","forEach","clear","prepareDeviceData","speed","device_state","params","drive_status","vin","fuel_percent","createFileInput","fileInput","createElement","type","accept","isPngImage","file","encodeImageFile","reader","FileReader","Promise","resolve","reject","onload","base64Data","onerror","readAsDataURL","devices","selectedDevice","speedGauge","refreshInterval","handleUploadDeviceImageClick","onchange","handleFileSelection","click","event","imageFileSelected","target","files","imageUrlB64Encoded","updatedDeviceUserPreferences","createUpdatedPreferences","updateMarkerIcon","alert","marker","initializeSpeedGaugeWidget","gaugeContainer","Gauge","max","dialStartAngle","dialEndAngle","round","initializeDeviceSpeedGauge","intervalId","setInterval","deviceSpeedElement","setValueAnimated","clearInterval","prepareDevices","userDeviceList","updateDeviceMarkers","deviceIDToDeviceMap","existingDevice","newDevice","find","d","hasPreferencesChanged","hasDeviceChanged","push","selectDevice","loadUserDevicesAndPreferences","userPreferences","preparedDevices","length","centerMarkerOnMap","deviceWithMarker","mapToCenterOn","toggleDeviceVisibility","originalVisibility","updatedPreferences","autoClickGoogleBilingCloseButton","selector","PageObserver","MutationObserver","googleBillingCloseButton","querySelector","disconnect","observe","childList","subtree","initializeWebComponent","deinitializeWebComponent","onBeforeUnmount","isLoggedIn","updateLoginState","handleStorageChange","handleLoginSuccess","token","setItem","addEventListener","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","this","Function","e","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}